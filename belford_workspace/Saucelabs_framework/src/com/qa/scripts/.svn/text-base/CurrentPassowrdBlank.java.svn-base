package com.qa.scripts;
import org.testng.Assert;
import org.testng.annotations.Test;

import com.qa.Functions.common.CommonUtils;
import com.qa.Functions.webdriver.UIEvents;
import com.qa.ReusableActions.ReusableActions;

public class CurrentPassowrdBlank extends SetupScript{
	
	@Test(description="TC_23_Verify that user is not able to reset the password if current password is wrong", groups="SmokeTest")	
			public void resetPasswordcurrentbalnk() throws Exception {
			
			//This sections calls the reusable action to signin application with the provided username and password
			ReusableActions.accountSignIn(driver, 

		CommonUtils.readIni("TestData.ini","ResetPasswordUser"), 

		CommonUtils.readIni("TestData.ini", "OldPassword"));
				
			//Click 'Update' button on Refine page
			ReusableActions.RefineFilter(driver, CommonUtils.readIni("TestData.ini", "CITY"), 

		CommonUtils.readIni("TestData.ini", "CATEGORY"));
			
			//System clicks on the My deals button.
			UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyDeals"));
						
			//System clicks on the My Account button.
			UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyAccount"));
				
			//System Calls reusable action to reset the password with the provided new and old password.
			ReusableActions.ResetPassword(driver,"" , CommonUtils.readIni("TestData.ini","NewPassword"));
			
			//System is ensuring whether the user is able to reset the password through accounts page.
			Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini","Current_password_blank")));


		}	

}
