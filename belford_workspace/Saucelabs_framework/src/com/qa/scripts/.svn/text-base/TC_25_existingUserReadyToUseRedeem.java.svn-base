//////////////////////////////////////////////////////////////////////////////////////////////////
//Following is what Scripts does-If user already Buy some deal and haven't used yet,and want to do Redeem the Deal
//1)Sign In into the application
//2)User will move to Deals List page and after that will click on MyDeals Button.
//3)User will go to My Deals Section.
//4)Click on Ready to Use section.
//5)click on the Deal
//6)User will move to Mobile Spinach page where he will click on Redeem Button
/////////////////////////////////////////////////////////////////////////////////////////////////

package com.qa.scripts;
import org.testng.Assert;
import org.testng.annotations.Test;

import com.qa.Functions.common.CommonUtils;
import com.qa.Functions.webdriver.UIEvents;
import com.qa.ReusableActions.ReusableActions;

public class TC_25_existingUserReadyToUseRedeem extends SetupScript{
	
	@Test(description="TC_25_Verify that user can Redeem the Deals which are ready to use", groups="SmokeTest")	
	public void readyuseRedeem() throws Exception

	{

		ReusableActions.accountSignIn(driver, CommonUtils.readIni("TestData.ini", "txt_SingInUserName"), CommonUtils.readIni("TestData.ini", "txt_SingInPassword"));
		
	    ReusableActions.buyDeal(driver);
	    
	    UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_DealsButton"));
	    
		//System clicks on the My deals button.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyDeals"));
				 
		ReusableActions.Redeem(driver);
	   		 
		Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "str_voucherCode")));
		 
	}
}
