//////////////////////////////////////////////////////////////////////////////////////////////////
//Following is what Scripts does-If user has used Deal
//1)Sign In into the application
//2)User will move to Deals List page and after that will click on MyDeals Button.
//3)User will go to My Deals Section.
//4)Click on Used section.
//5)Find the Deal and clicked on it
//6)User will moved to voucher code section,confirm the voucher's Used Date
/////////////////////////////////////////////////////////////////////////////////////////////////

package com.qa.scripts;

import org.testng.Assert;
import org.testng.annotations.Test;

import com.qa.Functions.common.CommonUtils;
import com.qa.Functions.webdriver.UIEvents;
import com.qa.ReusableActions.ReusableActions;

public class TC_27_ConfirmVoucherUsedDate extends SetupScript{
	
	@Test(description="TC_27_Verify that after Deal Redeem Date-time is generated.", groups="SmokeTest")	
	public void usedDealVoucherDate() throws Exception

	{

		ReusableActions.accountSignIn(driver, CommonUtils.readIni("TestData.ini", "txt_SingInUserName"), CommonUtils.readIni("TestData.ini", "txt_SingInPassword"));
		
	    ReusableActions.buyDeal(driver);
	    
	    UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_DealsButton"));
	    
		//System clicks on the My deals button.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyDeals"));
				 
		ReusableActions.Redeem(driver);
		 
		 //Confirm the Voucher's Used Date
		 Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "str_voucherDate")));
	}


}
