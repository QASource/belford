///////////////////Script Info //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Script Name:												ConfirmPaymentWithoutCard
//TestCase Summary: 										Verify that user is not able to do confirm Payment without adding a credit card.
//What the script does/TestCase Description:				Following is what Scripts does
//															1. Login into the application as an user whose credit card information is still not added
//															2. AFter that buy an deal form the Deals page.
//                                                          3. Click on the confirm payment without adding card information
//What script(s) should be run before this script:			N/A
//What script(s) should be run after this script:			N/A
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


package com.qa.scripts;

import org.testng.Assert;
import org.testng.annotations.Test;

import com.qa.Functions.common.CommonUtils;
import com.qa.Functions.webdriver.UIEvents;
import com.qa.ReusableActions.ReusableActions;

public class TC_30_ConfirmPaymentWithoutCard extends SetupScript{
	
	@Test(description="TC_30_Verify that user is not able to do confirm Payment without adding a credit card.", groups="SmokeTest")	
	public void noCard() throws Exception

	{
        //Login into the application
		ReusableActions.accountSignIn(driver, CommonUtils.readIni("TestData.ini", "txt_NoCardUser"), CommonUtils.readIni("TestData.ini", "txt_NoCardUserPassword"));
	    
		ReusableActions.buyDeal(driver);
	    
		//Ensure that validation message is displayed if card is not added
	    Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "nocard_validation")));
	}

}
