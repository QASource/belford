package com.qa.scripts;

import org.testng.Assert;
import org.testng.annotations.Test;

import com.qa.Functions.common.CommonUtils;
import com.qa.Functions.webdriver.UIEvents;
import com.qa.ReusableActions.ReusableActions;

public class TC_24_ExistingUserRedeemAlertClose extends SetupScript{
	
	@Test(description="TC_24_Verfiy that user can close the Redeem alert message window by cross button", groups="SmokeTest")	
	public void redeemAlertclose() throws Exception

	{

		ReusableActions.accountSignIn(driver, CommonUtils.readIni("TestData.ini", "txt_SingInUserName"), CommonUtils.readIni("TestData.ini", "txt_SingInPassword"));
		
	    ReusableActions.buyDeal(driver);
	    
	    UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_DealsButton"));
	    
		//System clicks on the My deals button.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyDeals"));
		
		 //Click on Deal
		 UIEvents.click(driver,CommonUtils.readIni("Repository.ini", "lnk_DealinReadyToUseSection"));
		 
		 //Click on Redeem button
		 UIEvents.click(driver,CommonUtils.readIni("Repository.ini", "btn_RedeemButton"));
		 
		 //Click on the cross button of alret message window
		 UIEvents.click(driver,CommonUtils.readIni("Repository.ini", "btn_clickRedeemClose"));
		 
		 //Validation for the Alert pop-up close redeem
		 Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "redeemcancel_valid")));
		}
}
