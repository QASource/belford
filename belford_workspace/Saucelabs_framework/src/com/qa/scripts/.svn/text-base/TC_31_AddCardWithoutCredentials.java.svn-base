///////////////////Script Info //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Script Name:												AddCardWithoutCredentials
//TestCase Summary: 										Verify that Validation message is displayed if user not providing the Card credentials.
//What the script does/TestCase Description:				Following is what Scripts does
//															1. Login into the application as an user.
//															2. Go to the Payment Section
//                                                          3. Click on the Add card option
//                                                          4. AFter that click on the Create Credit card button and observe that Validation message is displayed
//What script(s) should be run before this script:			N/A
//What script(s) should be run after this script:			N/A
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

package com.qa.scripts;

import org.testng.Assert;
import org.testng.annotations.Test;

import com.qa.Functions.common.CommonUtils;
import com.qa.Functions.webdriver.UIEvents;
import com.qa.ReusableActions.ReusableActions;

public class TC_31_AddCardWithoutCredentials extends SetupScript{
	
	@Test(description="TC_31_Verify that Validation message is displayed if user not providing the Card credentials.", groups="SmokeTest")	
	public void withoutCredentials() throws Exception

	{

		//call to Account Sign In Function
		ReusableActions.accountSignIn(driver, CommonUtils.readIni("TestData.ini", "txt_SingInUserName"), CommonUtils.readIni("TestData.ini", "txt_SingInPassword"));
	    
		//System clicks on the My deals button.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyDeals"));
	
		//System clicks on the My Account button.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_MyAccount"));
		
		//System clicks on the payment tab.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_Payment"));
		
		////System clicks on the Add Card button.
		UIEvents.click(driver, CommonUtils.readIni("Repository.ini", "btn_AddCard"));
		
		//Pass no variable to addCard Function
		ReusableActions.addCard(driver,"" , "", "", "", "");
	    
		//Ensure that validation message is displayed if provide no Credit card
	    Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "creditCardRequired_validation")));
	    
	  //Ensure that validation message is displayed if provide no Payment Type
	    Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "paymentTypeRequired_validation")));
	    
	  //Ensure that validation message is displayed if provide no Zip/Postal
	    Assert.assertNotNull(UIEvents.waitForElement(driver, CommonUtils.readIni("Repository.ini", "zipPostalRequired_validation")));
	}

}
